import{j as q,k as F,o as s,f as o,s as O,P as W,q as J,l as P,c as G,a as n,w as j,i as N,b as e,T as z,v as B,n as S,u as h,e as f,t as p,h as u,x as H,A as K,B as R,F as M,C as A,D as X,E as Y}from"./app-cd00f026.js";import{_ as Z}from"./ApplicationLogo-ccc6c358.js";import{_ as y}from"./InputLabel-be7b3b73.js";import{_ as I}from"./TextInput-93ba3346.js";import{_ as ee}from"./Checkbox-7ae6940c.js";const te=["value"],Q={__name:"Textarea",props:["modelValue"],emits:["update:modelValue"],setup(r){const t=q(null);return F(()=>{t.value.hasAttribute("autofocus")&&t.value.focus()}),(m,i)=>(s(),o("textarea",{class:"border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",value:r.modelValue,onInput:i[0]||(i[0]=c=>m.$emit("update:modelValue",c.target.value)),ref_key:"input",ref:t},null,40,te))}},se={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50","scroll-region":""},oe=e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1),ne=[oe],ae={key:0},re={class:"p-5"},le=["onSubmit"],ie={className:"mb-4"},ce={key:0,className:"text-red-600"},ue={className:"mb-4"},de={key:0,className:"text-red-600"},me={class:"flex justify-between"},fe=["onSubmit"],ve={__name:"CategoryModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(r,{emit:t}){const m=r;O(()=>m.show,()=>{m.show?document.body.style.overflow="hidden":document.body.style.overflow=null});const i=W({title:"",description:""}),c=()=>{i.post(route("categories.store")),i.errors&&w()},w=()=>{m.closeable&&t("close")},$=C=>{C.key==="Escape"&&m.show&&w()};F(()=>document.addEventListener("keydown",$)),J(()=>{document.removeEventListener("keydown",$),document.body.style.overflow=null});const U=P(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[m.maxWidth]);return(C,b)=>(s(),G(H,{to:"body"},[n(z,{"leave-active-class":"duration-200"},{default:j(()=>[N(e("div",se,[n(z,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:j(()=>[N(e("div",{class:"fixed inset-0 transform transition-all",onClick:w},ne,512),[[B,r.show]])]),_:1}),n(z,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:j(()=>[N(e("div",{class:S(["mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",h(U)])},[r.show?(s(),o("div",ae,[e("div",re,[e("form",{name:"createForm",onSubmit:f(c,["prevent"])},[e("div",ie,[n(y,{for:"category_title",value:"Category Title"}),n(I,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:h(i).title,"onUpdate:modelValue":b[0]||(b[0]=x=>h(i).title=x),autofocus:""},null,8,["modelValue"]),h(i).errors.title?(s(),o("span",ce,p(h(i).errors.title),1)):u("",!0)]),e("div",ue,[n(y,{for:"category_description",value:"Category Description"}),n(Q,{id:"body",class:"mt-1 block w-full",modelValue:h(i).description,"onUpdate:modelValue":b[1]||(b[1]=x=>h(i).description=x),autofocus:""},null,8,["modelValue"]),h(i).errors.description?(s(),o("span",de,p(h(i).errors.description),1)):u("",!0)]),e("div",me,[e("button",{onSubmit:f(c,["prevent"]),type:"submit",className:"px-6 py-2 font-bold text-white bg-green-500 rounded"}," Save ",40,fe),e("button",{onClick:w,className:"px-6 py-2 font-bold text-white bg-gray-500 rounded"}," Cancel ")])],40,le)])])):u("",!0)],2),[[B,r.show]])]),_:1})],512),[[B,r.show]])]),_:1})]))}};const g=r=>(X("data-v-bff613c9"),r=r(),Y(),r),_e={class:"py-12"},pe={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},he={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},we={class:"tabs-component flex"},ye={class:"tabs-component-tabs"},be=["onClick"],ge=g(()=>e("a",{class:"class-tabs-component-tab-a"}," Information ",-1)),xe=[ge],ke=["onClick"],qe=g(()=>e("a",{class:"class-tabs-component-tab-a"}," Questions ",-1)),$e=[qe],Ce={class:"p-6 bg-white border-b border-gray-200"},Ve=["onSubmit"],Ne={key:0,className:"flex flex-col"},Se={className:"mb-4"},Qe={key:0,className:"text-red-600"},Ue={className:"mb-4"},je={key:0,className:"text-red-600"},ze={className:"mb-4"},Be={class:"flex justify-between"},Me=["value"],Ae={key:0,className:"text-red-600"},Fe={class:"flex justify-end"},Ie={key:1},Te={class:"mb-4"},Ee={class:"question my-10"},De={class:"flex justify-between"},Le=["onClick"],Oe=g(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),We=[Oe],Je={key:0,className:"text-red-600"},Pe={key:0,class:"answers p-6"},Ge={class:"flex flex-col items-center"},He={key:0,className:"text-red-600"},Ke={key:1,className:"text-red-600"},Re={class:"block mt-4"},Xe={class:"flex justify-between"},Ye={class:"flex items-center"},Ze=g(()=>e("span",{class:"ml-2 text-sm text-gray-600"},"Mark as correct",-1)),et=["onClick"],tt=g(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),st=[tt],ot={key:0,className:"text-red-600"},nt={class:"flex justify-between"},at=["onClick"],rt=g(()=>e("div",{class:"mt-4 flex justify-end"},[e("button",{type:"submit",class:"px-6 py-2 font-bold text-white bg-green-500 rounded"},"Save ")],-1)),lt={__name:"QuizForm",props:{categories:Array,form:Object,edit:Boolean},setup(r){const t=r,m=q(!1),i=q([]),c=q("information"),w=q(!1),$=()=>{w.value=!0},U=()=>{t.edit==!0?t.form.put(route("quizzes.update",t.form.id)):t.form.post(route("quizzes.store"))},C=()=>{c.value="questions",m.value=!0,(t.form.questions==!1||t.form.questions.value.length<1)&&t.form.questions.push({question:"",answers:[]})},b=v=>{m.value=!0,t.form.questions.push({question:"",answers:[]})},x=v=>{t.form.questions.splice(v,1),t.form.questions==!1&&(c.value="information")},T=v=>{t.form.questions[v].answers.push({answer:""})},E=(v,l,a)=>{t.form.questions[v].answers.splice(l,1)},D=()=>{c.value="information"},L=()=>{c.value="questions",m.value=!0,(t.form.questions==!1||t.form.questions.value.length<1)&&t.form.questions.push({question:"",answers:[]})};return K.on("error",v=>{t.form.errors.title||t.form.errors.description||t.form.errors.category_id?c.value="information":c.value="questions"}),(v,l)=>(s(),o("div",_e,[n(ve,{show:w.value,onClose:l[0]||(l[0]=a=>w.value=!1)},null,8,["show"]),e("div",pe,[e("div",he,[e("div",we,[e("ul",ye,[e("li",{onClick:f(D,["prevent"]),class:S(["tabs-component-tab",c.value=="information"?"is-active":"not-active"])},xe,10,be),e("li",{onClick:f(L,["prevent"]),class:S(["tabs-component-tab",c.value=="questions"?"is-active":"not-active"])},$e,10,ke)])]),e("div",Ce,[e("form",{name:"form",onSubmit:f(U,["prevent"])},[c.value=="information"?(s(),o("div",Ne,[e("div",Se,[n(y,{for:"title",value:"Title"}),n(I,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:t.form.title,"onUpdate:modelValue":l[1]||(l[1]=a=>t.form.title=a),autofocus:""},null,8,["modelValue"]),t.form.errors.title?(s(),o("span",Qe,p(t.form.errors.title),1)):u("",!0)]),e("div",Ue,[n(y,{for:"description",value:"Description"}),n(Q,{id:"body",class:"mt-1 block w-full",modelValue:r.form.description,"onUpdate:modelValue":l[2]||(l[2]=a=>r.form.description=a),autofocus:""},null,8,["modelValue"]),t.form.errors.description?(s(),o("span",je,p(t.form.errors.description),1)):u("",!0)]),e("div",ze,[e("div",Be,[n(y,{for:"category",value:"Category"}),e("button",{className:"px-2 text-white bg-blue-500 rounded-md focus:outline-none text-sm",onClick:l[3]||(l[3]=f(a=>$(),["prevent"]))},"Create category")]),N(e("select",{"onUpdate:modelValue":l[4]||(l[4]=a=>t.form.category_id=a),class:"form-control mt-1 block w-full"},[(s(!0),o(M,null,A(r.categories,a=>(s(),o("option",{value:a.id},p(a.title),9,Me))),256))],512),[[R,t.form.category_id]]),t.form.errors.category_id?(s(),o("span",Ae,p(t.form.errors.category_id),1)):u("",!0)]),e("div",Fe,[i.value.length==0?(s(),o("button",{key:0,className:"px-6 py-2 text-white bg-green-500 rounded-md focus:outline-none",onClick:l[5]||(l[5]=f(a=>C(v.index),["prevent"]))},"Add Questions")):u("",!0)])])):c.value!="information"?(s(),o("div",Ie,[(s(!0),o(M,null,A(t.form.questions,(a,d)=>(s(),o("div",{key:d,class:"mb-4"},[e("div",null,[e("div",Te,[e("div",Ee,[e("div",De,[n(y,{for:"question",value:`Question ${d+1}`},null,8,["value"]),e("button",{class:"text-stone-500 border border-stone-500 hover:bg-stone-500 hover:text-white active:bg-stone-600 font-bold rounded outline-none focus:outline-none ease-linear transition-all duration-150 text-sm",onClick:f(_=>x(d),["prevent"])},We,8,Le)]),n(Q,{id:"question",type:"text",class:"mt-1 block w-full",modelValue:a.question,"onUpdate:modelValue":_=>a.question=_,autofocus:""},null,8,["modelValue","onUpdate:modelValue"]),t.form.errors[`questions.${d}.question`]?(s(),o("span",Je,p(t.form.errors[`questions.${d}.question`]),1)):u("",!0)]),a.answers.length>0?(s(),o("div",Pe,[e("div",Ge,[t.form.errors.questions?(s(),o("span",He,p(t.form.errors.questions),1)):u("",!0),t.form.errors[`questions.${d}.answers`]?(s(),o("span",Ke,p(t.form.errors[`questions.${d}.answers`]),1)):u("",!0)]),(s(!0),o(M,null,A(a.answers,(_,k)=>(s(),o("div",{key:k,className:"my-4"},[e("div",Re,[e("div",Xe,[n(y,{for:"answer",value:`Answer ${k+1}`},null,8,["value"]),e("div",null,[e("label",Ye,[n(ee,{name:"remember",checked:_.correct_answer,"onUpdate:checked":V=>_.correct_answer=V},null,8,["checked","onUpdate:checked"]),Ze])]),e("div",null,[e("button",{class:"text-stone-500 border border-stone-500 hover:bg-stone-500 hover:text-white active:bg-stone-600 font-bold rounded outline-none focus:outline-none ease-linear transition-all duration-150 text-sm",onClick:f(V=>E(d,k),["prevent"])},st,8,et)])])]),n(Q,{id:"body",class:S(["mt-1 block w-full",_.correct_answer==!0?"marked-as-correct":""]),modelValue:_.answer,"onUpdate:modelValue":V=>_.answer=V,autofocus:""},null,8,["class","modelValue","onUpdate:modelValue"]),t.form.errors[`questions.${d}.answers.${k}.answer`]?(s(),o("span",ot,p(t.form.errors[`questions.${d}.answers.${k}.answer`]),1)):u("",!0)]))),128))])):u("",!0)]),e("div",nt,[t.form.questions[d].answers.length<=4?(s(),o("button",{key:0,className:"px-6 py-2 text-white bg-blue-500 rounded-md focus:outline-none",onClick:f(_=>T(d),["prevent"])}," Add answer ",8,at)):u("",!0),t.form.questions[d].answers.length>=3&&t.form.questions.length==d+1?(s(),o("button",{key:1,onClick:l[6]||(l[6]=f(_=>b(v.number),["prevent"])),class:"px-6 py-2 text-white bg-green-500 rounded-md focus:outline-none"}," add question ")):u("",!0)])])]))),128))])):u("",!0),rt],40,Ve)])])])]))}},ft=Z(lt,[["__scopeId","data-v-bff613c9"]]);export{ft as Q};
